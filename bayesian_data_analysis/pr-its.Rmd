---
title: "Prior in the sky (prits)"
author: "mht"
date: "April 4, 2015"
output: html_document
---


```{r, message=FALSE}
library(jsonlite)
setwd("~/Documents/research/sinking-marbles/bayesian_data_analysis/modeling-results/")
```

# Tidy data

```{r}
d<-read.csv('number_pritsAlpha_mh1000.csv',header=F)


alpha.tidy<- d %>% 
  rename(parameter = V1, state=V2, value = V3, prob = V4) %>%
  filter(parameter=='alpha')

ggplot(alpha.tidy, aes(x=value))+
  geom_histogram()+
  facet_wrap(~state)
  
pr.tidy<- d %>% 
  rename(parameter = V1, state=V2, value = V3, prob = V4) %>%
  filter(parameter!='alpha')

  
 a<- ggplot(pr.tidy, aes(x=value, fill=state))+
    geom_histogram()+
  #  geom_bar(stat='identity', position = position_dodge(0.5))+
    facet_grid(parameter~state, scales='fixed')+
  scale_x_continuous(breaks=c(0,0.5,1), limits=c(0,1))

ggsave(a,file='itemXstate.png',height=45,width=15)
```

# Expected value 

```{r}
d.ev <- d.tidy %>%
  group_by(item, state) %>%
  summarise(exp.val = sum(val*marginal))


ggplot(d.ev, aes(x=state, y = exp.val, fill=state))+
  geom_bar(stat='identity', position=position_dodge())+
  facet_wrap(~item)

```













